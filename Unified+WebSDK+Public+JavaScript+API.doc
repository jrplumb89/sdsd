Date: Wed, 4 Feb 2026 17:06:58 +0000 (UTC)
Message-ID: <2110228564.35.1770224818438@fac8fd5a75f1>
Subject: Exported From Confluence
MIME-Version: 1.0
Content-Type: multipart/related; 
	boundary="----=_Part_34_1527249030.1770224818437"

------=_Part_34_1527249030.1770224818437
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-Location: file:///C:/exported.html

<html xmlns:o=3D'urn:schemas-microsoft-com:office:office'
      xmlns:w=3D'urn:schemas-microsoft-com:office:word'
      xmlns:v=3D'urn:schemas-microsoft-com:vml'
      xmlns=3D'urn:w3-org-ns:HTML'>
<head>
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf-8=
">
    <title>Unified WebSDK Public JavaScript API</title>
    <!--[if gte mso 9]>
    <xml>
        <o:OfficeDocumentSettings>
            <o:TargetScreenSize>1024x640</o:TargetScreenSize>
            <o:PixelsPerInch>72</o:PixelsPerInch>
            <o:AllowPNG/>
        </o:OfficeDocumentSettings>
        <w:WordDocument>
            <w:View>Print</w:View>
            <w:Zoom>90</w:Zoom>
            <w:DoNotOptimizeForBrowser/>
        </w:WordDocument>
    </xml>
    <![endif]-->
    <style>
                <!--
        @page Section1 {
            size: 8.5in 11.0in;
            margin: 1.0in;
            mso-header-margin: .5in;
            mso-footer-margin: .5in;
            mso-paper-source: 0;
        }

        table {
            border: solid 1px;
            border-collapse: collapse;
        }

        table td, table th {
            border: solid 1px;
            padding: 5px;
        }

        td {
            page-break-inside: avoid;
        }

        tr {
            page-break-after: avoid;
        }

        div.Section1 {
            page: Section1;
        }

        /* Confluence print stylesheet. Common to all themes for print medi=
a */
/* Full of !important until we improve batching for print CSS */

@media print {
    #main {
        padding-bottom: 1em !important; /* The default padding of 6em is to=
o much for printouts */
    }

    body {
        font: var(--ds-font-body-small, Arial, Helvetica, FreeSans, sans-se=
rif);
    }

    body, #full-height-container, #main, #page, #content, .has-personal-sid=
ebar #content {
        background: var(--ds-surface, #fff) !important;
        color: var(--ds-text, #000) !important;
        border: 0 !important;
        width: 100% !important;
        height: auto !important;
        min-height: auto !important;
        margin: 0 !important;
        padding: 0 !important;
        display: block !important;
    }

    a, a:link, a:visited, a:focus, a:hover, a:active {
        color: var(--ds-text, #000);
    }

    #content h1,
    #content h2,
    #content h3,
    #content h4,
    #content h5,
    #content h6 {
        page-break-after: avoid;
    }

    pre {
        font: var(--ds-font-code, Monaco, "Courier New", monospace);
    }

    #header,
    .aui-header-inner,
    #navigation,
    #sidebar,
    .sidebar,
    #personal-info-sidebar,
    .ia-fixed-sidebar,
    .page-actions,
    .navmenu,
    .ajs-menu-bar,
    .noprint,
    .inline-control-link,
    .inline-control-link a,
    a.show-labels-editor,
    .global-comment-actions,
    .comment-actions,
    .quick-comment-container,
    #addcomment {
        display: none !important;
    }

    /* CONF-28544 cannot print multiple pages in IE */
    #splitter-content {
        position: relative !important;
    }

    .comment .date::before {
        content: none !important; /* remove middot for print view */
    }

    h1.pagetitle img {
        height: auto;
        width: auto;
    }

    .print-only {
        display: block;
    }

    #footer {
        position: relative !important; /* CONF-17506 Place the footer at en=
d of the content */
        margin: 0;
        padding: 0;
        background: none;
        clear: both;
    }

    #poweredby {
        border-top: none;
        background: none;
    }

    #poweredby li.print-only {
        display: list-item;
        font-style: italic;
    }

    #poweredby li.noprint {
        display: none;
    }

    /* no width controls in print */
    .wiki-content .table-wrap,
    .wiki-content p,
    .panel .codeContent,
    .panel .codeContent pre,
    .image-wrap {
        overflow: visible !important;
    }

    /* TODO - should this work? */
    #children-section,
    #comments-section .comment,
    #comments-section .comment .comment-body,
    #comments-section .comment .comment-content,
    #comments-section .comment p {
        page-break-inside: avoid;
    }

    #page-children a {
        text-decoration: none;
    }

    /**
     hide twixies

     the specificity here is a hack because print styles
     are getting loaded before the base styles. */
    #comments-section.pageSection .section-header,
    #comments-section.pageSection .section-title,
    #children-section.pageSection .section-header,
    #children-section.pageSection .section-title,
    .children-show-hide {
        padding-left: 0;
        margin-left: 0;
    }

    .children-show-hide.icon {
        display: none;
    }

    /* personal sidebar */
    .has-personal-sidebar #content {
        margin-right: 0px;
    }

    .has-personal-sidebar #content .pageSection {
        margin-right: 0px;
    }

    .no-print, .no-print * {
        display: none !important;
    }
}
-->
    </style>
</head>
<body>
    <h1>Unified WebSDK Public JavaScript API</h1>
    <div class=3D"Section1">
        <style type=3D"text/css">/*<![CDATA[*/
div.rbtoc1770224818385 {padding: 0px;}
div.rbtoc1770224818385 ul {list-style: none;margin-left: 0px;}
div.rbtoc1770224818385 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style>
<div class=3D"toc-macro rbtoc1770224818385">
<ul class=3D"toc-indentation">
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-GettingStarted">Getting St=
arted</a>
<ul class=3D"toc-indentation">
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-GeneralUsage">General Usag=
e</a></li>
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-Customcode">Customcode</a>=
</li>
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-Third-PartyIntegrations">T=
hird-Party Integrations</a></li>
</ul></li>
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-TheunifiedSDKObject">The u=
nifiedSDK Object</a>
<ul class=3D"toc-indentation">
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-unifiedSDK.showConsole()">=
unifiedSDK.showConsole()</a></li>
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-unifiedSDK.getData(command=
)">unifiedSDK.getData(command)</a></li>
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-unifiedSDK.subscribe(event=
Name,callback)">unifiedSDK.subscribe(eventName, callback)</a></li>
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-unifiedSDK.run(method,[...=
args])">unifiedSDK.run(method, [...args])</a></li>
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-unifiedSDK.use(command)">u=
nifiedSDK.use(command)</a></li>
</ul></li>
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-Modules">Modules</a>
<ul class=3D"toc-indentation">
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-sdk">sdk</a></li>
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-loader">loader</a></li>
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-config">config</a></li>
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-events">events</a></li>
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-storage">storage</a></li>
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-logger">logger</a></li>
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-qa">qa</a></li>
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-rulesEngine">rulesEngine</=
a></li>
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-visitor">visitor</a></li>
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-pageManager">pageManager</=
a></li>
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-placeholderLibrary">placeh=
olderLibrary</a></li>
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-surveyEngine">surveyEngine=
</a></li>
<li><a href=3D"#UnifiedWebSDKPublicJavaScriptAPI-recordingEngine">recording=
Engine</a></li>
</ul></li>
</ul>
</div>
<div class=3D"confluence-information-macro confluence-information-macro-inf=
ormation">
<span class=3D"aui-icon aui-icon-small aui-iconfont-info confluence-informa=
tion-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p>This document aims to document the JavaScript API of the Unified WebSDK =
that is designed to be used by customers and third-parties.</p>
</div>
</div>
<div class=3D"confluence-information-macro confluence-information-macro-not=
e">
<span class=3D"aui-icon aui-icon-small aui-iconfont-warning confluence-info=
rmation-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p>Not all features of the WebSDK offer a public API yet. APIs not listed o=
n this page are not designed to be used publicly yet and might change in th=
e future.</p>
</div>
</div>
<h1 id=3D"UnifiedWebSDKPublicJavaScriptAPI-GettingStarted">Getting Started<=
/h1>
<h2 id=3D"UnifiedWebSDKPublicJavaScriptAPI-GeneralUsage">General Usage</h2>
<p>The WebSDK is loaded into websites using the site-specific embed code th=
at can be copied in the SDK Configurator. Once loaded, the WebSDK is expose=
s a global variable <code>unifiedSDK</code> to the <code>window</code> obje=
ct. In some special cases this variable might be different, e.g. to avoid c=
onflicts when this variable name is already reserved by another script.</p>
<h2 id=3D"UnifiedWebSDKPublicJavaScriptAPI-Customcode">Customcode</h2>
<p>The customcode is a special file that helps you to write and deploy cust=
om logic to the site setup. It needs to register through a special run comm=
and to ensure the correct timing on execution.</p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">
<pre class=3D"syntaxhighlighter-pre" data-syntaxhighlighter-params=3D"brush=
: java; gutter: false; theme: Confluence" data-theme=3D"Confluence">window.=
unifiedSDK.run("customcodeManager.registerCustomcode", async ({ use }) =3D&=
gt; {
  const rulesEngine =3D await use("rulesEngine");
  // .. do something
});</pre>
</div>
</div>
<p>The argument passed to the callback method is <a href=3D"https://kanasof=
tware.jira.com/wiki/spaces/VOC/pages/4164487088/Unified+WebSDK+Public+JavaS=
cript+API#The-unifiedSDK-Object" rel=3D"nofollow">the unifiedSDK Object</a>=
. In The example above the run method is simply destructured from the insta=
nce in modern JavaScript syntax.</p>
<h2 id=3D"UnifiedWebSDKPublicJavaScriptAPI-Third-PartyIntegrations">Third-P=
arty Integrations</h2>
<p>For integrations use the <code>uwsReady()</code>. This function will be =
available on the <code>window</code> object as soon as the WebSDK integrati=
on snippet has been executed.</p>
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-ExampleUsage">Example Usage</h4>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">
<pre class=3D"syntaxhighlighter-pre" data-syntaxhighlighter-params=3D"brush=
: js; gutter: false; theme: Confluence" data-theme=3D"Confluence">uwsReady(=
function (unifiedSDK) {
  // you are now safe to interact with the unifiedSDK API
});</pre>
</div>
</div>
<p>The provided JavaScript callback will be executed by the WebSDK once the=
 web SDK is ready.</p>
<h1 id=3D"UnifiedWebSDKPublicJavaScriptAPI-TheunifiedSDKObject">The <code>u=
nifiedSDK</code> Object</h1>
<div class=3D"confluence-information-macro confluence-information-macro-not=
e">
<span class=3D"aui-icon aui-icon-small aui-iconfont-warning confluence-info=
rmation-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p>Only the methods on this documentation, when used in the described way, =
are safe to use as public API. If you use any non documented methods you ri=
sk to break your integration code on WebSDK version upgrades.</p>
</div>
</div>
<h2 id=3D"UnifiedWebSDKPublicJavaScriptAPI-unifiedSDK.showConsole()"><code>=
unifiedSDK.showConsole()</code></h2>
<p>Open the Unified WebSDK Console UI. The console exposes a graphical way =
to interact with Unified WebSDK while verifying your setup on your website.=
</p>
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-ExampleUsage.1">Example Usage</h=
4>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">
<pre class=3D"syntaxhighlighter-pre" data-syntaxhighlighter-params=3D"brush=
: js; gutter: false; theme: Confluence" data-theme=3D"Confluence">unifiedSD=
K.showConsole();</pre>
</div>
</div>
<h2 id=3D"UnifiedWebSDKPublicJavaScriptAPI-unifiedSDK.getData(command)"><co=
de>unifiedSDK.getData(command)</code></h2>
<p>Return the value of internal WebSDK data. See =E2=80=9CData Getters=E2=
=80=9D in the modules sections below.</p>
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-ExampleUsage.2">Example Usage</h=
4>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">
<pre class=3D"syntaxhighlighter-pre" data-syntaxhighlighter-params=3D"brush=
: js; gutter: false; theme: Confluence" data-theme=3D"Confluence">unifiedSD=
K.getData("qa.debug");</pre>
</div>
</div>
<h2 id=3D"UnifiedWebSDKPublicJavaScriptAPI-unifiedSDK.subscribe(eventName,c=
allback)"><code>unifiedSDK.subscribe(eventName, callback)</code></h2>
<p>Subscribe to an internal WebSDK event. See =E2=80=9CSubscribe Events=E2=
=80=9D in the modules sections below.</p>
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-ExampleUsage.3">Example Usage</h=
4>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">
<pre class=3D"syntaxhighlighter-pre" data-syntaxhighlighter-params=3D"brush=
: js; gutter: false; theme: Confluence" data-theme=3D"Confluence">unifiedSD=
K.subscribe("pageManager.pageChange", () =3D&gt; {});</pre>
</div>
</div>
<h2 id=3D"UnifiedWebSDKPublicJavaScriptAPI-unifiedSDK.run(method,[...args])=
"><code>unifiedSDK.run(method, [...args])</code></h2>
<p>Run one of the provided methods of the WebSDK. See =E2=80=9CMethods=E2=
=80=9D in the modules sections below.</p>
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-ExampleUsage.4">Example Usage</h=
4>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">
<pre class=3D"syntaxhighlighter-pre" data-syntaxhighlighter-params=3D"brush=
: js; gutter: false; theme: Confluence" data-theme=3D"Confluence">unifiedSD=
K.run("qa.testStory", "story-name");</pre>
</div>
</div>
<div class=3D"confluence-information-macro confluence-information-macro-inf=
ormation">
<span class=3D"aui-icon aui-icon-small aui-iconfont-info confluence-informa=
tion-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p>There also is a synchronous version with <code>unifiedSDK.runSync()</cod=
e> which will only work for already resolved modules/commands, so use with =
caution.</p>
</div>
</div>
<h2 id=3D"UnifiedWebSDKPublicJavaScriptAPI-unifiedSDK.use(command)"><code>u=
nifiedSDK.use(command)</code></h2>
<p>Asynchronously retrieving a module or module method by providing its nam=
e. This will automatically handle lazy loading of the required code files.<=
/p>
<p>The module instance will give you access to all the module methods witho=
ut using <code>run()</code> or <code>runSync()</code> every time.</p>
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-ExampleUsage.5">Example Usage</h=
4>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">
<pre class=3D"syntaxhighlighter-pre" data-syntaxhighlighter-params=3D"brush=
: js; gutter: false; theme: Confluence" data-theme=3D"Confluence">// module
const qa =3D await unifiedSDK.use("qa");
qa.testStory("story-name");

// module method
const testStory =3D await unifiedSDK.use("qa.testStory");
testStory("story-name");</pre>
</div>
</div>
<div class=3D"confluence-information-macro confluence-information-macro-inf=
ormation">
<span class=3D"aui-icon aui-icon-small aui-iconfont-info confluence-informa=
tion-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p>There also is a synchronous version with <code>unifiedSDK.useSync()</cod=
e> which will only work for already resolved modules, so use with caution.<=
/p>
</div>
</div>
<h1 id=3D"UnifiedWebSDKPublicJavaScriptAPI-Modules">Modules</h1>
<p>This section will describe some of the relevant modules for public usage=
 and there methods, data getter and events.</p>
<h2 id=3D"UnifiedWebSDKPublicJavaScriptAPI-sdk"><code>sdk</code></h2>
<p>The <code>unifiedSDK</code> object from above.</p>
<h3 id=3D"UnifiedWebSDKPublicJavaScriptAPI-DataGetter">Data Getter</h3>
<div class=3D"table-wrap">
<table data-table-width=3D"1011" data-layout=3D"center" data-local-id=3D"5d=
c4f584-dcd7-4658-a8ac-99e894f5e694" class=3D"confluenceTable">
<colgroup>
<col style=3D"width: 343.0px;">
<col style=3D"width: 667.0px;">
</colgroup>
<tbody>
<tr>
<th class=3D"confluenceTh">
<p><strong>Command</strong></p></th>
<th class=3D"confluenceTh">
<p><strong>Description / Example</strong></p></th>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-sdk.version"><code>sdk.version</=
code></h4></td>
<td class=3D"confluenceTd">
<p>The current active WebSDK version</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-sdk.startTime"><code>sdk.startTi=
me</code></h4></td>
<td class=3D"confluenceTd">
<p>Unix-timestamp when the SDK started loading (embed snippet executed)</p>=
</td>
</tr>
</tbody>
</table>
</div>
<h2 id=3D"UnifiedWebSDKPublicJavaScriptAPI-loader"><code>loader</code></h2>
<p>The loader module handles lazy loading of additional code files and mana=
ged module instances for dependency injection.</p>
<h3 id=3D"UnifiedWebSDKPublicJavaScriptAPI-Methods">Methods</h3>
<div class=3D"table-wrap">
<table data-table-width=3D"1011" data-layout=3D"center" data-local-id=3D"a3=
b7bb20-6794-45ed-8ff1-75ba292bd0e4" class=3D"confluenceTable">
<colgroup>
<col style=3D"width: 343.0px;">
<col style=3D"width: 667.0px;">
</colgroup>
<tbody>
<tr>
<th class=3D"confluenceTh">
<p><strong>Method</strong></p></th>
<th class=3D"confluenceTh">
<p><strong>Description / Example</strong></p></th>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-loader.isModuleLoaded(moduleName=
)"><code>loader.isModuleLoaded(moduleName)</code></h4></td>
<td class=3D"confluenceTd">
<p>Return Boolean if the provided module is loaded.</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-loader.whenModuleReady(module,ca=
llback)"><code>loader.whenModuleReady(module, callback)</code></h4></td>
<td class=3D"confluenceTd">
<p>Returns a promise that resolves when the provide module is ready. Also a=
ccepts a optional callback function that is invoked when the module is read=
y.</p></td>
</tr>
</tbody>
</table>
</div>
<h2 id=3D"UnifiedWebSDKPublicJavaScriptAPI-config"><code>config</code></h2>
<p>The config module handles all configurations fetched from the server whi=
ch includes settings from the Unified configurator which are part of the <c=
ode>config.json</code> file.</p>
<h3 id=3D"UnifiedWebSDKPublicJavaScriptAPI-Methods.1">Methods</h3>
<div class=3D"table-wrap">
<table data-table-width=3D"1011" data-layout=3D"center" data-local-id=3D"5c=
885d47-2ebc-4063-a365-a86f007e5fbd" class=3D"confluenceTable">
<colgroup>
<col style=3D"width: 343.0px;">
<col style=3D"width: 667.0px;">
</colgroup>
<tbody>
<tr>
<th class=3D"confluenceTh">
<p><strong>Method</strong></p></th>
<th class=3D"confluenceTh">
<p><strong>Description / Example</strong></p></th>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-config.getAllConfigs()"><code>co=
nfig.getAllConfigs()</code></h4></td>
<td class=3D"confluenceTd">
<p>Returns all configurations as object.</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-config.getConfig(path)"><code>co=
nfig.getConfig(path)</code></h4></td>
<td class=3D"confluenceTd">
<p>Return a single configuration item.</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-config.setConfig(path,value)"><c=
ode>config.setConfig(path, value)</code></h4></td>
<td class=3D"confluenceTd">
<p>Set the value of a single configuration item.</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-config.pushConfigItem()"><code>c=
onfig.pushConfigItem()</code></h4></td>
<td class=3D"confluenceTd">
<p>For Array based configurations, add another item to the array.</p></td>
</tr>
</tbody>
</table>
</div>
<h2 id=3D"UnifiedWebSDKPublicJavaScriptAPI-events"><code>events</code></h2>
<p>central event bus.</p>
<h3 id=3D"UnifiedWebSDKPublicJavaScriptAPI-Methods.2">Methods</h3>
<div class=3D"confluence-information-macro confluence-information-macro-inf=
ormation">
<span class=3D"aui-icon aui-icon-small aui-iconfont-info confluence-informa=
tion-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p>listing the advanced methods, as simple event listening is already docum=
ent above with the <a href=3D"https://kanasoftware.jira.com/wiki/spaces/VOC=
/pages/4164487088/Unified+WebSDK+Public+JavaScript+API#unifiedSDK.subscribe=
(eventName%2C-callback)" rel=3D"nofollow">unifiedSDK.subscribe()</a> method=
.</p>
</div>
</div>
<div class=3D"table-wrap">
<table data-table-width=3D"1011" data-layout=3D"center" data-local-id=3D"59=
1c87b3-3781-4b3b-9b35-68e54165db8a" class=3D"confluenceTable">
<colgroup>
<col style=3D"width: 348.0px;">
<col style=3D"width: 661.0px;">
</colgroup>
<tbody>
<tr>
<th class=3D"confluenceTh">
<p><strong>Method</strong></p></th>
<th class=3D"confluenceTh">
<p><strong>Description / Example</strong></p></th>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-events.triggerEvent(event,payloa=
d)"><code>events.triggerEvent(event, payload)</code></h4></td>
<td class=3D"confluenceTd">
<p>Fire a (custom) event that can be subscribed for.</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-events.listenEventOnce(event,cal=
lback)"><code>events.listenEventOnce(event, callback)</code></h4></td>
<td class=3D"confluenceTd">
<p>The provided callback method will be invoked the next time the provided =
event is triggered.</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-events.listenEventInitial(event,=
callback)"><code>events.listenEventInitial(event, callback)</code></h4></td=
>
<td class=3D"confluenceTd">
<p>When the specified Event has already been invoked before, the callback m=
ethod will be executed right away, otherwise an event listener will be regi=
stered.</p></td>
</tr>
</tbody>
</table>
</div>
<h2 id=3D"UnifiedWebSDKPublicJavaScriptAPI-storage"><code>storage</code></h=
2>
<p>Manage key/value information in browser storage. This is using cookies b=
y default but can be configured to use indexedDB.</p>
<h3 id=3D"UnifiedWebSDKPublicJavaScriptAPI-Methods.3">Methods</h3>
<div class=3D"table-wrap">
<table data-table-width=3D"1011" data-layout=3D"center" data-local-id=3D"c7=
033716-c304-4c66-a676-3e0d81a04fad" class=3D"confluenceTable">
<colgroup>
<col style=3D"width: 343.0px;">
<col style=3D"width: 667.0px;">
</colgroup>
<tbody>
<tr>
<th class=3D"confluenceTh">
<p><strong>Method</strong></p></th>
<th class=3D"confluenceTh">
<p><strong>Description / Example</strong></p></th>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-storage.getAllStorageItems()"><c=
ode>storage.getAllStorageItems()</code></h4></td>
<td class=3D"confluenceTd">
<p>Return all websdk managed storage items.</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-storage.getStorageItem(key)"><co=
de>storage.getStorageItem(key)</code></h4></td>
<td class=3D"confluenceTd">
<p>Return a specified storage item.</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-storage.setStorageItem(key,value=
)"><code>storage.setStorageItem(key, value)</code></h4></td>
<td class=3D"confluenceTd">
<p>Set a specified storage item to the provided value.</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-storage.deleteStorageItem(key)">=
<code>storage.deleteStorageItem(key)</code></h4></td>
<td class=3D"confluenceTd">
<p>Delete a specified storage item when it exists.</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-storage.clearStorage()"><code>st=
orage.clearStorage()</code></h4></td>
<td class=3D"confluenceTd">
<p>Delete all websdk managed storage items.</p></td>
</tr>
</tbody>
</table>
</div>
<h2 id=3D"UnifiedWebSDKPublicJavaScriptAPI-logger"><code>logger</code></h2>
<p>The logger is a module to manage log output and manage the log level.</p=
>
<h3 id=3D"UnifiedWebSDKPublicJavaScriptAPI-Methods.4">Methods</h3>
<div class=3D"table-wrap">
<table data-table-width=3D"1011" data-layout=3D"center" data-local-id=3D"82=
0b1e28-d395-4d63-a307-509da4f967f3" class=3D"confluenceTable">
<colgroup>
<col style=3D"width: 343.0px;">
<col style=3D"width: 667.0px;">
</colgroup>
<tbody>
<tr>
<th class=3D"confluenceTh">
<p><strong>Method</strong></p></th>
<th class=3D"confluenceTh">
<p><strong>Description / Example</strong></p></th>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-logger.setLogLevel(logLevel)"><c=
ode>logger.setLogLevel(logLevel)</code></h4></td>
<td class=3D"confluenceTd">
<p>Set the log level which will determine which messages will be printed to=
 the console going forward.</p></td>
</tr>
</tbody>
</table>
</div>
<h3 id=3D"UnifiedWebSDKPublicJavaScriptAPI-DataGetter.1">Data Getter</h3>
<div class=3D"table-wrap">
<table data-table-width=3D"1011" data-layout=3D"center" data-local-id=3D"46=
16af76-7eb6-427b-bdef-8a5bde03cf66" class=3D"confluenceTable">
<colgroup>
<col style=3D"width: 343.0px;">
<col style=3D"width: 667.0px;">
</colgroup>
<tbody>
<tr>
<th class=3D"confluenceTh">
<p><strong>Command</strong></p></th>
<th class=3D"confluenceTh">
<p><strong>Description / Example</strong></p></th>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-logger.logLevel"><code>logger.lo=
gLevel</code></h4></td>
<td class=3D"confluenceTd">
<p>The current log level</p></td>
</tr>
</tbody>
</table>
</div>
<h2 id=3D"UnifiedWebSDKPublicJavaScriptAPI-qa"><code>qa</code></h2>
<p>Functionality for testing websdk features and configurations.</p>
<div class=3D"confluence-information-macro confluence-information-macro-not=
e">
<span class=3D"aui-icon aui-icon-small aui-iconfont-warning confluence-info=
rmation-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p>These functions are only designed to be used for testing purpose. Don=E2=
=80=99t use any of the methods in production code that you ship to the user=
!</p>
</div>
</div>
<h3 id=3D"UnifiedWebSDKPublicJavaScriptAPI-Methods.5">Methods</h3>
<div class=3D"table-wrap">
<table data-table-width=3D"1011" data-layout=3D"center" data-local-id=3D"8f=
04dbf4-6949-449b-ab74-7db7b6b19c1f" class=3D"confluenceTable">
<colgroup>
<col style=3D"width: 343.0px;">
<col style=3D"width: 667.0px;">
</colgroup>
<tbody>
<tr>
<th class=3D"confluenceTh">
<p><strong>Method</strong></p></th>
<th class=3D"confluenceTh">
<p><strong>Description / Example</strong></p></th>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-qa.disableCache()"><code>qa.disa=
bleCache()</code></h4></td>
<td class=3D"confluenceTd">
<p>Disable caching for the configuration and assets fir testing.</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-qa.overrideContainer(container)"=
><code>qa.overrideContainer(container)</code></h4></td>
<td class=3D"confluenceTd">
<p>Overwrite which container will be loaded on page load. Reload requred.</=
p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-qa.testConfig(path,value)"><code=
>qa.testConfig(path, value)</code></h4></td>
<td class=3D"confluenceTd">
<p>Locally overwrite a specific config key. Reload requred.</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-qa.resetTests()"><code>qa.resetT=
ests()</code></h4></td>
<td class=3D"confluenceTd">
<p>Reset all local config overwrites and enabled stories. Reload requred.</=
p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-qa.testStory(storyName)"><code>q=
a.testStory(storyName)</code></h4></td>
<td class=3D"confluenceTd">
<p>Enable a specific story for testing. Reload requred.</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-qa.resetStories()"><code>qa.rese=
tStories()</code></h4></td>
<td class=3D"confluenceTd">
<p>Reset all Story related cookies. Reload requred.</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-qa.resetRecording()"><code>qa.re=
setRecording()</code></h4></td>
<td class=3D"confluenceTd">
<p>Reset all Recording Related Cookies. Reload requred.</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-qa.resetState()"><code>qa.resetS=
tate()</code></h4></td>
<td class=3D"confluenceTd">
<p>Reset the whole WebSDK state. Reload requred.</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-qa.showProperties()"><code>qa.sh=
owProperties()</code></h4></td>
<td class=3D"confluenceTd">
<p>Print all properties (aka. CPPs) to the browser console.</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-qa.showStorage()"><code>qa.showS=
torage()</code></h4></td>
<td class=3D"confluenceTd">
<p>Print all WebSDK related storage items (eg. cookies) to the browser cons=
ole.</p></td>
</tr>
</tbody>
</table>
</div>
<h3 id=3D"UnifiedWebSDKPublicJavaScriptAPI-DataGetter.2">Data Getter</h3>
<div class=3D"table-wrap">
<table data-table-width=3D"1011" data-layout=3D"center" data-local-id=3D"0b=
3309c6-e1c1-4b3d-8c6c-0c2c2452fdaa" class=3D"confluenceTable">
<colgroup>
<col style=3D"width: 343.0px;">
<col style=3D"width: 667.0px;">
</colgroup>
<tbody>
<tr>
<th class=3D"confluenceTh">
<p><strong>Command</strong></p></th>
<th class=3D"confluenceTh">
<p><strong>Description / Example</strong></p></th>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-qa.debug"><code>qa.debug</code><=
/h4></td>
<td class=3D"confluenceTd">
<p>Debug Data that can be attached when reporting any error.</p></td>
</tr>
</tbody>
</table>
</div>
<h2 id=3D"UnifiedWebSDKPublicJavaScriptAPI-rulesEngine"><code>rulesEngine</=
code></h2>
<p>See <a href=3D"https://kanasoftware.jira.com/wiki/spaces/VOC/pages/35733=
83424/Unified+WebSDK+-+Rules+Engine" data-linked-resource-id=3D"3573383424"=
 data-linked-resource-version=3D"110" data-linked-resource-type=3D"page">Ru=
les Engine</a> for detailed explanation.</p>
<h3 id=3D"UnifiedWebSDKPublicJavaScriptAPI-SubscribeEvents">Subscribe Event=
s</h3>
<div class=3D"table-wrap">
<table data-table-width=3D"1011" data-layout=3D"center" data-local-id=3D"aa=
1a64c8-d0a4-4a72-9295-814a217fcaf9" class=3D"confluenceTable">
<colgroup>
<col style=3D"width: 343.0px;">
<col style=3D"width: 667.0px;">
</colgroup>
<tbody>
<tr>
<th class=3D"confluenceTh">
<p><strong>Event</strong></p></th>
<th class=3D"confluenceTh">
<p><strong>Description / Example</strong></p></th>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-rulesEngine.badgeRendered"><code=
>rulesEngine.badgeRendered</code></h4></td>
<td class=3D"confluenceTd">
<p>a badge is rendered</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-rulesEngine.badgeAccepted"><code=
>rulesEngine.badgeAccepted</code></h4></td>
<td class=3D"confluenceTd">
<p>a badge is clicked</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-rulesEngine.badgeTimeout"><code>=
rulesEngine.badgeTimeout</code></h4></td>
<td class=3D"confluenceTd">
<p>a badge is removed by its defined timeout</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-rulesEngine.inviteRendered"><cod=
e>rulesEngine.inviteRendered</code></h4></td>
<td class=3D"confluenceTd">
<p>an invite is shown to the user</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-rulesEngine.inviteAccepted"><cod=
e>rulesEngine.inviteAccepted</code></h4></td>
<td class=3D"confluenceTd">
<p>an invite was accepted by the user</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-rulesEngine.inviteDeclined"><cod=
e>rulesEngine.inviteDeclined</code></h4></td>
<td class=3D"confluenceTd">
<p>an invite was declined by the user</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-rulesEngine.onExitModalRendered"=
><code>rulesEngine.onExitModalRendered</code></h4></td>
<td class=3D"confluenceTd">
<p>an on-exit contact form is shown to the user</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-rulesEngine.externalSurveyStarte=
d"><code>rulesEngine.externalSurveyStarted</code></h4></td>
<td class=3D"confluenceTd">
<p>a survey is started in an external context (window, popup, iframe)</p></=
td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-rulesEngine.onExitModalRendered.=
1"><code>rulesEngine.onExitModalRendered</code></h4></td>
<td class=3D"confluenceTd">
<p>a contact survey modal has been shown to the user</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-rulesEngine.onExitModalAborted">=
<code>rulesEngine.onExitModalAborted</code></h4></td>
<td class=3D"confluenceTd">
<p>the user has aborted the contact survey modal before he submitted any da=
ta</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-rulesEngine.onExitModalCompleted=
"><code>rulesEngine.onExitModalCompleted</code></h4></td>
<td class=3D"confluenceTd">
<p>the user submitted his contact details in the contact survey modal</p></=
td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-rulesEngine.storyCompleted"><cod=
e>rulesEngine.storyCompleted</code></h4></td>
<td class=3D"confluenceTd">
<p>a rules engine story has successfully completed its final step</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-rulesEngine.storyStopped"><code>=
rulesEngine.storyStopped</code></h4></td>
<td class=3D"confluenceTd">
<p>a rules engine story step has failed and the corresponding story has bee=
n stopped</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-rulesEngine.waypointRendered"><c=
ode>rulesEngine.waypointRendered</code></h4></td>
<td class=3D"confluenceTd">
<p>a waypoint modal is shown to the user</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-rulesEngine.waypointAccepted"><c=
ode>rulesEngine.waypointAccepted</code></h4></td>
<td class=3D"confluenceTd">
<p>clicking an action button in the waypoint modal</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-rulesEngine.waypointDeclined"><c=
ode>rulesEngine.waypointDeclined</code></h4></td>
<td class=3D"confluenceTd">
<p>closing a waypoint modal by using the closing x</p></td>
</tr>
</tbody>
</table>
</div>
<h2 id=3D"UnifiedWebSDKPublicJavaScriptAPI-visitor"><code>visitor</code></h=
2>
<p>Visitor related logic and state.</p>
<h3 id=3D"UnifiedWebSDKPublicJavaScriptAPI-Methods.6">Methods</h3>
<div class=3D"table-wrap">
<table data-table-width=3D"1011" data-layout=3D"center" data-local-id=3D"8c=
9a1765-365b-41cc-b3f0-08ebb8b1ec56" class=3D"confluenceTable">
<colgroup>
<col style=3D"width: 343.0px;">
<col style=3D"width: 667.0px;">
</colgroup>
<tbody>
<tr>
<th class=3D"confluenceTh">
<p><strong>Method</strong></p></th>
<th class=3D"confluenceTh">
<p><strong>Description / Example</strong></p></th>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-visitor.maskUrl(url)"><code>visi=
tor.maskUrl(url)</code></h4></td>
<td class=3D"confluenceTd">
<p>Return the provided url with applied url masking rules.</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-visitor.defineProperty(...)"><co=
de>visitor.defineProperty(...)</code></h4></td>
<td class=3D"confluenceTd">
<p>Define a custom property (aka. CPP) by providing a name and a callback m=
ethod that returns the value for the custom property. The callback method w=
ill be evaluated multiple times over the visitor of the user and detect cha=
nges to the property value to update the websdk internal state automaticall=
y.</p>
<p><strong>Example:</strong></p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">
<pre class=3D"syntaxhighlighter-pre" data-syntaxhighlighter-params=3D"brush=
: js; gutter: false; theme: Confluence" data-theme=3D"Confluence">visitor.d=
efineProperty("myProp", () =3D&gt; {
  return "hello world";
});</pre>
</div>
</div></td>
</tr>
</tbody>
</table>
</div>
<h3 id=3D"UnifiedWebSDKPublicJavaScriptAPI-DataGetter.3">Data Getter</h3>
<div class=3D"table-wrap">
<table data-table-width=3D"1011" data-layout=3D"center" data-local-id=3D"ba=
bd2a79-fd18-46c8-90db-c440b9106bac" class=3D"confluenceTable">
<colgroup>
<col style=3D"width: 343.0px;">
<col style=3D"width: 667.0px;">
</colgroup>
<tbody>
<tr>
<th class=3D"confluenceTh">
<p><strong>Command</strong></p></th>
<th class=3D"confluenceTh">
<p><strong>Description / Example</strong></p></th>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-visitor.visitorId"><code>visitor=
.visitorId</code></h4></td>
<td class=3D"confluenceTd">
<p>Unique visitor ID</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-visitor.initialReferrer"><code>v=
isitor.initialReferrer</code></h4></td>
<td class=3D"confluenceTd">
<p>Referer present on the first page impression of the current user session=
</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-visitor.sessionPageCount"><code>=
visitor.sessionPageCount</code></h4></td>
<td class=3D"confluenceTd">
<p>Page count for the current session</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-visitor.visitorPageCount"><code>=
visitor.visitorPageCount</code></h4></td>
<td class=3D"confluenceTd">
<p>Page count for that visitor across multiple sessions</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-visitor.sessionStarted"><code>vi=
sitor.sessionStarted</code></h4></td>
<td class=3D"confluenceTd">
<p>UNIX timestamp of the first page impression of current session</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-visitor.visitorStarted"><code>vi=
sitor.visitorStarted</code></h4></td>
<td class=3D"confluenceTd">
<p>UNIX timestamp of the first page impression of the visitor</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-visitor.sessionTime"><code>visit=
or.sessionTime</code></h4></td>
<td class=3D"confluenceTd">
<p>Time passed in milliseconds since the current session has started</p></t=
d>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-visitor.visitorTime"><code>visit=
or.visitorTime</code></h4></td>
<td class=3D"confluenceTd">
<p>Time passed in milliseconds since the visitor had its first page impress=
ion</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-visitor.userAgent"><code>visitor=
.userAgent</code></h4></td>
<td class=3D"confluenceTd">
<p>The User Agent String of the visitor</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-visitor.deviceType"><code>visito=
r.deviceType</code></h4></td>
<td class=3D"confluenceTd">
<p>The detected device type of the visitor (desktop, table, phone)</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-visitor.browserAndVersion"><code=
>visitor.browserAndVersion</code></h4></td>
<td class=3D"confluenceTd">
<p>The detected browser and version of the visitor</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-visitor.platform"><code>visitor.=
platform</code></h4></td>
<td class=3D"confluenceTd">
<p>The detected OS platform of the visitor</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-visitor.currentPagename"><code>v=
isitor.currentPagename</code></h4></td>
<td class=3D"confluenceTd">
<p>The pagename of the currently active page impression</p></td>
</tr>
</tbody>
</table>
</div>
<h3 id=3D"UnifiedWebSDKPublicJavaScriptAPI-SubscribeEvents.1">Subscribe Eve=
nts</h3>
<div class=3D"table-wrap">
<table data-table-width=3D"1011" data-layout=3D"center" data-local-id=3D"e8=
d5209f-acee-4a94-9e2b-56adbc0463de" class=3D"confluenceTable">
<colgroup>
<col style=3D"width: 343.0px;">
<col style=3D"width: 667.0px;">
</colgroup>
<tbody>
<tr>
<th class=3D"confluenceTh">
<p><strong>Event</strong></p></th>
<th class=3D"confluenceTh">
<p><strong>Description / Example</strong></p></th>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-visitor.activity"><code>visitor.=
activity</code></h4></td>
<td class=3D"confluenceTd">
<p>user activity (clicks, keystrokes, scroll, =E2=80=A6)</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-visitor.pageView"><code>visitor.=
pageView</code></h4></td>
<td class=3D"confluenceTd">
<p>URL change</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-visitor.pageChange"><code>visito=
r.pageChange</code></h4></td>
<td class=3D"confluenceTd">
<p>page changes (even if the URL is not changed) based on WebSDK properties=
 and pagename configurations</p></td>
</tr>
</tbody>
</table>
</div>
<h2 id=3D"UnifiedWebSDKPublicJavaScriptAPI-pageManager"><code>pageManager</=
code></h2>
<p>Manage page related logic and state.</p>
<h3 id=3D"UnifiedWebSDKPublicJavaScriptAPI-DataGetter.4">Data Getter</h3>
<div class=3D"table-wrap">
<table data-table-width=3D"1011" data-layout=3D"center" data-local-id=3D"9a=
17f9a0-aa2e-4adc-bece-9c75ed640a35" class=3D"confluenceTable">
<colgroup>
<col style=3D"width: 343.0px;">
<col style=3D"width: 667.0px;">
</colgroup>
<tbody>
<tr>
<th class=3D"confluenceTh">
<p><strong>Command</strong></p></th>
<th class=3D"confluenceTh">
<p><strong>Description / Example</strong></p></th>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-pageManager.currentPageId"><code=
>pageManager.currentPageId</code></h4></td>
<td class=3D"confluenceTd">
<p>The ID of the currently active page impression</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-pageManager.previousPageId"><cod=
e>pageManager.previousPageId</code></h4></td>
<td class=3D"confluenceTd">
<p>The ID of the previous page impression</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-pageManager.pageStarted"><code>p=
ageManager.pageStarted</code></h4></td>
<td class=3D"confluenceTd">
<p>UNIX timestamp when the current page impression was started</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-pageManager.pageTime"><code>page=
Manager.pageTime</code></h4></td>
<td class=3D"confluenceTd">
<p>Time passed in milliseconds since the current page impression has starte=
d</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-pageManager.properties"><code>pa=
geManager.properties</code></h4></td>
<td class=3D"confluenceTd">
<p>All currently applied properties (aka. CPPS)</p></td>
</tr>
</tbody>
</table>
</div>
<h3 id=3D"UnifiedWebSDKPublicJavaScriptAPI-SubscribeEvents.2">Subscribe Eve=
nts</h3>
<div class=3D"table-wrap">
<table data-table-width=3D"1011" data-layout=3D"center" data-local-id=3D"33=
202a19-b907-4771-8dbd-ffdfbaa0ae87" class=3D"confluenceTable">
<colgroup>
<col style=3D"width: 343.0px;">
<col style=3D"width: 667.0px;">
</colgroup>
<tbody>
<tr>
<th class=3D"confluenceTh">
<p><strong>Event</strong></p></th>
<th class=3D"confluenceTh">
<p><strong>Description / Example</strong></p></th>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-pageManager.property"><code>page=
Manager.property</code></h4></td>
<td class=3D"confluenceTd">
<p>WebSDK property changes</p></td>
</tr>
</tbody>
</table>
</div>
<h2 id=3D"UnifiedWebSDKPublicJavaScriptAPI-placeholderLibrary"><code>placeh=
olderLibrary</code></h2>
<p>Manage and apply placeholders for story configurations.</p>
<h3 id=3D"UnifiedWebSDKPublicJavaScriptAPI-Methods.7">Methods</h3>
<div class=3D"table-wrap">
<table data-table-width=3D"1011" data-layout=3D"center" data-local-id=3D"08=
3b9e91-08a2-4e02-be42-e304ba32c18d" class=3D"confluenceTable">
<colgroup>
<col style=3D"width: 363.0px;">
<col style=3D"width: 646.0px;">
</colgroup>
<tbody>
<tr>
<th class=3D"confluenceTh">
<p><strong>Method</strong></p></th>
<th class=3D"confluenceTh">
<p><strong>Description / Example</strong></p></th>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-placeholderLibrary.registerPlace=
holder(...)"><code>placeholderLibrary.registerPlaceholder(...)</code></h4><=
/td>
<td class=3D"confluenceTd">
<p>Register custom placeholders that can be used in story configurations to=
 inject dynamic configuration values.</p>
<p><strong>Example:</strong></p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">
<pre class=3D"syntaxhighlighter-pre" data-syntaxhighlighter-params=3D"brush=
: js; gutter: false; theme: Confluence" data-theme=3D"Confluence">placehold=
erLibrary.registerPlaceholder(/^cpp\.(.*)$/, (cppName) =3D&gt; {
  return runSync("pageManager.getPropertyValue", cppName) ?? "";
});</pre>
</div>
</div></td>
</tr>
</tbody>
</table>
</div>
<h2 id=3D"UnifiedWebSDKPublicJavaScriptAPI-surveyEngine"><code>surveyEngine=
</code></h2>
<p>Experience Management / Survey Management related functionality.</p>
<h3 id=3D"UnifiedWebSDKPublicJavaScriptAPI-Methods.8">Methods</h3>
<div class=3D"table-wrap">
<table data-table-width=3D"1011" data-layout=3D"center" data-local-id=3D"10=
2867eb-e45c-44ad-9237-c1e47d17da90" class=3D"confluenceTable">
<colgroup>
<col style=3D"width: 343.0px;">
<col style=3D"width: 667.0px;">
</colgroup>
<tbody>
<tr>
<th class=3D"confluenceTh">
<p><strong>Method</strong></p></th>
<th class=3D"confluenceTh">
<p><strong>Description / Example</strong></p></th>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-surveyEngine.openModalSurvey(...=
)"><code>surveyEngine.openModalSurvey(...)</code></h4></td>
<td class=3D"confluenceTd">
<p>Start a modal survey manually (bypassing the rules engine).</p>
<p><strong>Example:</strong></p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">
<pre class=3D"syntaxhighlighter-pre" data-syntaxhighlighter-params=3D"brush=
: java; gutter: false; theme: Confluence" data-theme=3D"Confluence">surveyE=
ngine.openModalSurvey("surveyId", {
  // other options, same as showModalSurvey step
});</pre>
</div>
</div>
<p>Supported options: <a href=3D"https://kanasoftware.jira.com/wiki/spaces/=
VOC/pages/3573383424/Unified+WebSDK+-+Rules+Engine#showModalSurvey-v1.0.0" =
data-linked-resource-id=3D"3573383424" data-linked-resource-version=3D"110"=
 data-linked-resource-type=3D"page">Unified WebSDK - Rules Engine</a></p></=
td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-surveyEngine.addVisibilityCondit=
ion(...)"><code>surveyEngine.addVisibilityCondition(...)</code></h4></td>
<td class=3D"confluenceTd">
<p>Add custom visibility condition for specific survey elements by providin=
g a callback method that returns a Boolean to determine the visibility of t=
hat element.</p>
<p><strong>Example:</strong></p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">
<pre class=3D"syntaxhighlighter-pre" data-syntaxhighlighter-params=3D"brush=
: js; gutter: false; theme: Confluence" data-theme=3D"Confluence">surveyEng=
ine.addVisibilityCondition("surveyId", "elementId", () =3D&gt; {
  // your custom logic here, return Boolean
});</pre>
</div>
</div></td>
</tr>
</tbody>
</table>
</div>
<h3 id=3D"UnifiedWebSDKPublicJavaScriptAPI-SubscribeEvents.3">Subscribe Eve=
nts</h3>
<div class=3D"table-wrap">
<table data-table-width=3D"1011" data-layout=3D"center" data-local-id=3D"3c=
e8c37f-de74-4a1f-bd1c-bfd59c955303" class=3D"confluenceTable">
<colgroup>
<col style=3D"width: 343.0px;">
<col style=3D"width: 667.0px;">
</colgroup>
<tbody>
<tr>
<th class=3D"confluenceTh">
<p><strong>Event</strong></p></th>
<th class=3D"confluenceTh">
<p><strong>Description / Example</strong></p></th>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-surveyEngine.surveyStarted"><cod=
e>surveyEngine.surveyStarted</code></h4></td>
<td class=3D"confluenceTd">
<p>an embedded/modal survey is shown to the user</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-surveyEngine.surveyNavigation"><=
code>surveyEngine.surveyNavigation</code></h4></td>
<td class=3D"confluenceTd">
<p>the user triggered the navigation to the next page (before network reque=
st)</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-surveyEngine.surveyPageLoaded"><=
code>surveyEngine.surveyPageLoaded</code></h4></td>
<td class=3D"confluenceTd">
<p>when a survey page fetched from the server (before render)</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-surveyEngine.surveyPageRendered"=
><code>surveyEngine.surveyPageRendered</code></h4></td>
<td class=3D"confluenceTd">
<p>when a survey page fetched from the server (after render)</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-surveyEngine.surveyFinished"><co=
de>surveyEngine.surveyFinished</code></h4></td>
<td class=3D"confluenceTd">
<p>when a survey reached the end page</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-surveyEngine.surveyClosed"><code=
>surveyEngine.surveyClosed</code></h4></td>
<td class=3D"confluenceTd">
<p>when a survey modal is closed regardless if completed or not</p></td>
</tr>
</tbody>
</table>
</div>
<h2 id=3D"UnifiedWebSDKPublicJavaScriptAPI-recordingEngine"><code>recording=
Engine</code></h2>
<p>Digital Behavior Analytics (DBA) related functionality.</p>
<h3 id=3D"UnifiedWebSDKPublicJavaScriptAPI-SubscribeEvents.4">Subscribe Eve=
nts</h3>
<div class=3D"table-wrap">
<table data-table-width=3D"1011" data-layout=3D"center" data-local-id=3D"eb=
a4c110-8d5a-4d97-b219-5c391513c6fd" class=3D"confluenceTable">
<colgroup>
<col style=3D"width: 343.0px;">
<col style=3D"width: 667.0px;">
</colgroup>
<tbody>
<tr>
<th class=3D"confluenceTh">
<p><strong>Event</strong></p></th>
<th class=3D"confluenceTh">
<p><strong>Description / Example</strong></p></th>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-recordingEngine.recordingStarted=
"><code>recordingEngine.recordingStarted</code></h4></td>
<td class=3D"confluenceTd">
<p>DBA recording started</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-recordingEngine.recordingActivat=
ed"><code>recordingEngine.recordingActivated</code></h4></td>
<td class=3D"confluenceTd">
<p>DBA recording session activated (transition from local buffer to server)=
</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-recordingEngine.recordingPaused"=
><code>recordingEngine.recordingPaused</code></h4></td>
<td class=3D"confluenceTd">
<p>DBA recording paused (e.g. on blacklisted pages)</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">
<h4 id=3D"UnifiedWebSDKPublicJavaScriptAPI-recordingEngine.recordingStopped=
"><code>recordingEngine.recordingStopped</code></h4></td>
<td class=3D"confluenceTd">
<p>DBA recording stopped</p></td>
</tr>
</tbody>
</table>
</div>
    </div>
</body>
</html>
------=_Part_34_1527249030.1770224818437--
